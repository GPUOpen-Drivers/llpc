; Test that the pipeline that amdllpc will compile sets the scalar block layout to the value given by the command line
; option.

; BEGIN_SHADERTEST
; RUN: amdllpc -spvgen-dir=%spvgendir% -v %gfxip %s --scalar-block-layout --enable-pipeline-dump --pipeline-dump-dir=%basename_t
; RUN: FileCheck -check-prefix=SHADERTEST %s < %basename_t/*pipe
; SHADERTEST: options.scalarBlockLayout = 1
; END_SHADERTEST

; BEGIN_SHADERTEST1
; RUN: amdllpc -spvgen-dir=%spvgendir% -v %gfxip %s --scalar-block-layout=false --enable-pipeline-dump --pipeline-dump-dir=%basename_t
; RUN: FileCheck -check-prefix=SHADERTEST1 %s < %basename_t/*pipe
; SHADERTEST1: options.scalarBlockLayout = 0
; END_SHADERTEST1

               OpCapability Shader
               OpMemoryModel Logical GLSL450
               OpEntryPoint Vertex %1 "main"
         %12 = OpTypeVoid
         %21 = OpTypeFunction %12
          %1 = OpFunction %12 None %21
         %66 = OpLabel
               OpReturn
               OpFunctionEnd
