; NOTE: Assertions have been autogenerated by tool/update_llpc_test_checks.py
; RUN: amdllpc -v -gfxip 10.1 %s | FileCheck -check-prefixes=CHECK %s

[CsSpirv]
; SPIR-V
; Version: 1.6
; Generator: Khronos Glslang Reference Front End; 11
; Bound: 20
; Schema: 0
               OpCapability Shader
               OpExtension "SPV_KHR_non_semantic_info"
          %2 = OpExtInstImport "GLSL.std.450"
         %20 = OpExtInstImport "NonSemantic.DebugBreak"
               OpMemoryModel Logical GLSL450
               OpEntryPoint GLCompute %main "main" %_
               OpExecutionModeId %main LocalSizeId %uint_2 %uint_3 %uint_1
               OpName %main "main"
               OpName %OUT "OUT"
               OpMemberName %OUT 0 "o"
               OpName %_ ""
               OpMemberDecorate %OUT 0 Offset 0
               OpDecorate %OUT Block
               OpDecorate %_ DescriptorSet 0
               OpDecorate %_ Binding 0
       %void = OpTypeVoid
          %4 = OpTypeFunction %void
       %uint = OpTypeInt 32 0
     %uint_2 = OpConstant %uint 2
     %uint_3 = OpConstant %uint 3
     %uint_1 = OpConstant %uint 1
     %v3uint = OpTypeVector %uint 3
        %OUT = OpTypeStruct %v3uint
               OpLine %1 10 11
       %main = OpFunction %void None %4
          %6 = OpLabel
               OpLine %1 12 0
         %21 = OpExtInst %void %20 1
               OpReturn
               OpFunctionEnd

[CsInfo]
entryPoint = main
userDataNode[0].type = DescriptorBuffer
userDataNode[0].offsetInDwords = 0
userDataNode[0].sizeInDwords = 4
userDataNode[0].set = 0
userDataNode[0].binding = 0
; CHECK-LABEL: @main(
; CHECK-NEXT:  .entry:
; CHECK-NEXT:    call void (...) @lgc.create.debug.break.V()
; CHECK-NEXT:    ret void
;
;
; CHECK-LABEL: @lgc.shader.CS.main(
; CHECK-NEXT:  .entry:
; CHECK-NEXT:    call void @llvm.amdgcn.s.sethalt(i32 1)
; CHECK-NEXT:    ret void
;
;
; CHECK-LABEL: @_amdgpu_cs_main(
; CHECK-NEXT:  .entry:
; CHECK-NEXT:    call void @llvm.amdgcn.s.sethalt(i32 1)
; CHECK-NEXT:    ret void
;
