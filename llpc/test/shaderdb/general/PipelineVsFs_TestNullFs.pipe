; NOTE: Assertions have been autogenerated by tool/update_llpc_test_checks.py UTC_ARGS: --check-pal-metadata
; RUN: amdllpc -gfxip 10.3 -o - -filetype=asm %s | FileCheck -check-prefixes=CHECK %s

[VsGlsl]
#version 450 core

void main()
{
    gl_Position = vec4(0);
}

[VsInfo]
entryPoint = main

[GraphicsPipelineState]
patchControlPoints = 0
alphaToCoverageEnable = 0
dualSourceBlendEnable = 0
colorBuffer[0].format = VK_FORMAT_B8G8R8A8_UNORM
colorBuffer[0].blendEnable = 0
colorBuffer[0].blendSrcAlphaToColor = 0

; CHECK-LABEL: amdgpu_vs_main:
; CHECK:         v_mov_b32_e32 v0, 0
; CHECK-NEXT:    exp pos0 v0, v0, v0, v0 done
; CHECK-NEXT:    s_endpgm
;
; CHECK-LABEL: amdgpu_ps_main:
; CHECK:         s_endpgm
;
; CHECK-LABEL: .amdgpu_pal_metadata
; CHECK-NEXT: ---
; CHECK-NEXT: amdpal.pipelines:
; CHECK-NEXT:   - .api:            Vulkan
; CHECK-NEXT:     .hardware_stages:
; CHECK-NEXT:       .ps:
; CHECK-NEXT:         .entry_point:    _amdgpu_ps_main
; CHECK-NEXT:         .scratch_memory_size: 0
; CHECK-NEXT:         .sgpr_count:     0x3
; CHECK-NEXT:         .sgpr_limit:     0x6a
; CHECK-NEXT:         .vgpr_count:     0x2
; CHECK-NEXT:         .vgpr_limit:     0x100
; CHECK-NEXT:         .wavefront_size: 0x40
; CHECK-NEXT:       .vs:
; CHECK-NEXT:         .entry_point:    _amdgpu_vs_main
; CHECK-NEXT:         .scratch_memory_size: 0
; CHECK-NEXT:         .sgpr_count:     0x4
; CHECK-NEXT:         .sgpr_limit:     0x6a
; CHECK-NEXT:         .vgpr_count:     0x4
; CHECK-NEXT:         .vgpr_limit:     0x100
; CHECK-NEXT:         .wavefront_size: 0x20
; CHECK-NEXT:     .internal_pipeline_hash:
; CHECK-NEXT:       - 0x{{[0-9a-f]+}}
; CHECK-NEXT:       - 0x{{[0-9a-f]+}}
; CHECK-NEXT:     .registers:
; CHECK-NEXT:       0x2c01:          0
; CHECK-NEXT:       0x2c06 (SPI_SHADER_PGM_CHKSUM_PS): {{.*}}
; CHECK-NEXT:       0x2c0a (SPI_SHADER_PGM_RSRC1_PS): 0x22c0000
; CHECK-NEXT:       0x2c0b (SPI_SHADER_PGM_RSRC2_PS): 0x4
; CHECK-NEXT:       0x2c0c (SPI_SHADER_USER_DATA_PS_0): 0x10000000
; CHECK-NEXT:       0x2c45 (SPI_SHADER_PGM_CHKSUM_VS): {{.*}}
; CHECK-NEXT:       0x2c4a (SPI_SHADER_PGM_RSRC1_VS): 0x82c0000
; CHECK-NEXT:       0x2c4b (SPI_SHADER_PGM_RSRC2_VS): 0x8
; CHECK-NEXT:       0x2c4c (SPI_SHADER_USER_DATA_VS_0): 0x10000000
; CHECK-NEXT:       0x2c4e (SPI_SHADER_USER_DATA_VS_2): 0x10000003
; CHECK-NEXT:       0x2c4f (SPI_SHADER_USER_DATA_VS_3): 0x10000004
; CHECK-NEXT:       0xa08f (CB_SHADER_MASK): 0
; CHECK-NEXT:       0xa191 (SPI_PS_INPUT_CNTL_0): 0
; CHECK-NEXT:       0xa1b1 (SPI_VS_OUT_CONFIG): 0x80
; CHECK-NEXT:       0xa1b3 (SPI_PS_INPUT_ENA): 0x1
; CHECK-NEXT:       0xa1b4 (SPI_PS_INPUT_ADDR): 0x1
; CHECK-NEXT:       0xa1b5 (SPI_INTERP_CONTROL_0): 0
; CHECK-NEXT:       0xa1b6 (SPI_PS_IN_CONTROL): 0
; CHECK-NEXT:       0xa1b8 (SPI_BARYC_CNTL): 0x1000000
; CHECK-NEXT:       0xa1c3 (SPI_SHADER_POS_FORMAT): 0x4
; CHECK-NEXT:       0xa1c4 (SPI_SHADER_Z_FORMAT): 0
; CHECK-NEXT:       0xa1c5 (SPI_SHADER_COL_FORMAT): 0
; CHECK-NEXT:       0xa203 (DB_SHADER_CONTROL): 0x810
; CHECK-NEXT:       0xa204 (PA_CL_CLIP_CNTL): 0x1000000
; CHECK-NEXT:       0xa206 (PA_CL_VTE_CNTL): 0x43f
; CHECK-NEXT:       0xa207 (PA_CL_VS_OUT_CNTL): 0
; CHECK-NEXT:       0xa210 (PA_STEREO_CNTL): 0x2
; CHECK-NEXT:       0xa291 (VGT_GS_ONCHIP_CNTL): 0
; CHECK-NEXT:       0xa293 (PA_SC_MODE_CNTL_1): 0x602018c
; CHECK-NEXT:       0xa2a1 (VGT_PRIMITIVEID_EN): 0
; CHECK-NEXT:       0xa2ad (VGT_REUSE_OFF): 0
; CHECK-NEXT:       0xa2b5 (VGT_STRMOUT_VTX_STRIDE_0): 0
; CHECK-NEXT:       0xa2b9 (VGT_STRMOUT_VTX_STRIDE_1): 0
; CHECK-NEXT:       0xa2bd (VGT_STRMOUT_VTX_STRIDE_2): 0
; CHECK-NEXT:       0xa2c1 (VGT_STRMOUT_VTX_STRIDE_3): 0
; CHECK-NEXT:       0xa2d5 (VGT_SHADER_STAGES_EN): 0x810000
; CHECK-NEXT:       0xa2e5 (VGT_STRMOUT_CONFIG): 0
; CHECK-NEXT:       0xa2e6 (VGT_STRMOUT_BUFFER_CONFIG): 0
; CHECK-NEXT:       0xa2f8 (PA_SC_AA_CONFIG): 0
; CHECK-NEXT:       0xa2f9 (PA_SU_VTX_CNTL): 0x2d
; CHECK-NEXT:       0xa310 (PA_SC_SHADER_CONTROL): 0
; CHECK-NEXT:       0xc258 (IA_MULTI_VGT_PARAM_PIPED): 0x7f
; CHECK-NEXT:       0xc25f (GE_STEREO_CNTL): 0
; CHECK-NEXT:       0xc262 (GE_USER_VGPR_EN): 0
; CHECK-NEXT:     .shaders:
; CHECK-NEXT:       .pixel:
; CHECK-NEXT:         .api_shader_hash:
; CHECK-NEXT:           - 0
; CHECK-NEXT:           - 0
; CHECK-NEXT:         .hardware_mapping:
; CHECK-NEXT:           - .ps
; CHECK-NEXT:       .vertex:
; CHECK-NEXT:         .api_shader_hash:
; CHECK-NEXT:           - 0x{{[0-9a-f]+}}
; CHECK-NEXT:           - 0
; CHECK-NEXT:         .hardware_mapping:
; CHECK-NEXT:           - .vs
; CHECK-NEXT:     .spill_threshold: 0xffffffff
; CHECK-NEXT:     .type:           VsPs
; CHECK-NEXT:     .user_data_limit: 0
; CHECK-NEXT:     .xgl_cache_info:
; CHECK-NEXT:       .128_bit_cache_hash:
; CHECK-NEXT:         - 0x{{[0-9a-f]+}}
; CHECK-NEXT:         - 0x{{[0-9a-f]+}}
; CHECK-NEXT:       .llpc_version: {{.*}}
; CHECK-NEXT: amdpal.version:
; CHECK-NEXT:   - 0x2
; CHECK-NEXT:   - 0x3
; CHECK-NEXT: ...
