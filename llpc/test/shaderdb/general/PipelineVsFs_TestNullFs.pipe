; NOTE: Assertions have been autogenerated by tool/update_llpc_test_checks.py UTC_ARGS: --check-pal-metadata
; RUN: amdllpc -gfxip 10.3 -o - -filetype=asm %s | FileCheck -check-prefixes=CHECK %s

[VsGlsl]
#version 450 core

void main()
{
    gl_Position = vec4(0);
}

[VsInfo]
entryPoint = main

[GraphicsPipelineState]
patchControlPoints = 0
alphaToCoverageEnable = 0
dualSourceBlendEnable = 0
colorBuffer[0].format = VK_FORMAT_B8G8R8A8_UNORM
colorBuffer[0].blendEnable = 0
colorBuffer[0].blendSrcAlphaToColor = 0
; CHECK-LABEL: amdgpu_vs_main:
; CHECK:         v_mov_b32_e32 v0, 0
; CHECK-NEXT:    exp pos0 v0, v0, v0, v0 done
; CHECK-NEXT:    s_endpgm
;
; CHECK-LABEL: amdgpu_ps_main:
; CHECK:         s_endpgm
;
; CHECK-LABEL: .amdgpu_pal_metadata
; CHECK-NEXT: ---
; CHECK-NEXT: amdpal.pipelines:
; CHECK-NEXT:   - .api:            Vulkan
; CHECK-NEXT:     .graphics_registers:
; CHECK-NEXT:       .aa_coverage_to_shader_select: InputCoverage
; CHECK-NEXT:       .cb_shader_mask:
; CHECK-NEXT:         .output0_enable: 0
; CHECK-NEXT:         .output1_enable: 0
; CHECK-NEXT:         .output2_enable: 0
; CHECK-NEXT:         .output3_enable: 0
; CHECK-NEXT:         .output4_enable: 0
; CHECK-NEXT:         .output5_enable: 0
; CHECK-NEXT:         .output6_enable: 0
; CHECK-NEXT:         .output7_enable: 0
; CHECK-NEXT:       .db_shader_control:
; CHECK-NEXT:         .alpha_to_mask_disable: true
; CHECK-NEXT:         .conservative_z_export: 0
; CHECK-NEXT:         .depth_before_shader: 0
; CHECK-NEXT:         .exec_on_hier_fail: false
; CHECK-NEXT:         .exec_on_noop:   false
; CHECK-NEXT:         .kill_enable:    false
; CHECK-NEXT:         .mask_export_enable: false
; CHECK-NEXT:         .pre_shader_depth_coverage_enable: 0
; CHECK-NEXT:         .stencil_test_val_export_enable: 0
; CHECK-NEXT:         .z_export_enable: 0
; CHECK-NEXT:         .z_order:        0x1
; CHECK-NEXT:       .ia_multi_vgt_param:
; CHECK-NEXT:         .primgroup_size: 0x7f
; CHECK-NEXT:       .pa_cl_clip_cntl:
; CHECK-NEXT:         .dx_linear_attr_clip_ena: true
; CHECK-NEXT:         .rasterization_kill: false
; CHECK-NEXT:         .vte_vport_provoke_disable: false
; CHECK-NEXT:       .pa_cl_vte_cntl:
; CHECK-NEXT:         .vtx_w0_fmt:     true
; CHECK-NEXT:         .x_offset_ena:   true
; CHECK-NEXT:         .x_scale_ena:    true
; CHECK-NEXT:         .y_offset_ena:   true
; CHECK-NEXT:         .y_scale_ena:    true
; CHECK-NEXT:         .z_offset_ena:   true
; CHECK-NEXT:         .z_scale_ena:    true
; CHECK-NEXT:       .pa_sc_shader_control:
; CHECK-NEXT:         .wave_break_region_size: 0
; CHECK-NEXT:       .pa_su_vtx_cntl:
; CHECK-NEXT:         .pix_center:     0x1
; CHECK-NEXT:         .quant_mode:     0x5
; CHECK-NEXT:         .round_mode:     0x2
; CHECK-NEXT:       .ps_extra_lds_size: 0
; CHECK-NEXT:       .ps_iter_sample: false
; CHECK-NEXT:       .spi_baryc_cntl:
; CHECK-NEXT:         .front_face_all_bits: true
; CHECK-NEXT:         .pos_float_location: 0
; CHECK-NEXT:       .spi_ps_in_control:
; CHECK-NEXT:         .num_interps:    0
; CHECK-NEXT:         .num_prim_interp: 0
; CHECK-NEXT:         .ps_w32_en:      false
; CHECK-NEXT:       .spi_ps_input_addr:
; CHECK-NEXT:         .ancillary_ena:  false
; CHECK-NEXT:         .front_face_ena: false
; CHECK-NEXT:         .line_stipple_tex_ena: false
; CHECK-NEXT:         .linear_center_ena: false
; CHECK-NEXT:         .linear_centroid_ena: false
; CHECK-NEXT:         .linear_sample_ena: false
; CHECK-NEXT:         .persp_center_ena: false
; CHECK-NEXT:         .persp_centroid_ena: false
; CHECK-NEXT:         .persp_pull_model_ena: false
; CHECK-NEXT:         .persp_sample_ena: true
; CHECK-NEXT:         .pos_fixed_pt_ena: false
; CHECK-NEXT:         .pos_w_float_ena: false
; CHECK-NEXT:         .pos_x_float_ena: false
; CHECK-NEXT:         .pos_y_float_ena: false
; CHECK-NEXT:         .pos_z_float_ena: false
; CHECK-NEXT:         .sample_coverage_ena: false
; CHECK-NEXT:       .spi_ps_input_cntl:
; CHECK-NEXT:         - .attr0_valid:    0
; CHECK-NEXT:           .attr1_valid:    0
; CHECK-NEXT:           .flat_shade:     false
; CHECK-NEXT:           .fp16_interp_mode: false
; CHECK-NEXT:           .offset:         0
; CHECK-NEXT:           .prim_attr:      false
; CHECK-NEXT:           .pt_sprite_tex:  false
; CHECK-NEXT:       .spi_ps_input_ena:
; CHECK-NEXT:         .ancillary_ena:  false
; CHECK-NEXT:         .front_face_ena: false
; CHECK-NEXT:         .line_stipple_tex_ena: false
; CHECK-NEXT:         .linear_center_ena: false
; CHECK-NEXT:         .linear_centroid_ena: false
; CHECK-NEXT:         .linear_sample_ena: false
; CHECK-NEXT:         .persp_center_ena: false
; CHECK-NEXT:         .persp_centroid_ena: false
; CHECK-NEXT:         .persp_pull_model_ena: false
; CHECK-NEXT:         .persp_sample_ena: true
; CHECK-NEXT:         .pos_fixed_pt_ena: false
; CHECK-NEXT:         .pos_w_float_ena: false
; CHECK-NEXT:         .pos_x_float_ena: false
; CHECK-NEXT:         .pos_y_float_ena: false
; CHECK-NEXT:         .pos_z_float_ena: false
; CHECK-NEXT:         .sample_coverage_ena: false
; CHECK-NEXT:       .spi_shader_col_format:
; CHECK-NEXT:         .col_0_export_format: 0
; CHECK-NEXT:         .col_1_export_format: 0
; CHECK-NEXT:         .col_2_export_format: 0
; CHECK-NEXT:         .col_3_export_format: 0
; CHECK-NEXT:         .col_4_export_format: 0
; CHECK-NEXT:         .col_5_export_format: 0
; CHECK-NEXT:         .col_6_export_format: 0
; CHECK-NEXT:         .col_7_export_format: 0
; CHECK-NEXT:       .spi_shader_pos_format:
; CHECK-NEXT:         - 0x4
; CHECK-NEXT:         - 0
; CHECK-NEXT:         - 0
; CHECK-NEXT:         - 0
; CHECK-NEXT:         - 0
; CHECK-NEXT:       .spi_vs_out_config:
; CHECK-NEXT:         .no_pc_export:   true
; CHECK-NEXT:       .vgt_reuse_off:  false
; CHECK-NEXT:       .vgt_shader_stages_en:
; CHECK-NEXT:         .max_primgroup_in_wave: 0x2
; CHECK-NEXT:         .vs_stage_en:    0
; CHECK-NEXT:         .vs_w32_en:      true
; CHECK-NEXT:       .vgt_strmout_buffer_config:
; CHECK-NEXT:         .stream_0_buffer_en: 0
; CHECK-NEXT:         .stream_1_buffer_en: 0
; CHECK-NEXT:         .stream_2_buffer_en: 0
; CHECK-NEXT:         .stream_3_buffer_en: 0
; CHECK-NEXT:       .vgt_strmout_config:
; CHECK-NEXT:         .streamout_0_en: false
; CHECK-NEXT:         .streamout_1_en: false
; CHECK-NEXT:         .streamout_2_en: false
; CHECK-NEXT:         .streamout_3_en: false
; CHECK-NEXT:       .vs_so_base0_en: false
; CHECK-NEXT:       .vs_so_base1_en: false
; CHECK-NEXT:       .vs_so_base2_en: false
; CHECK-NEXT:       .vs_so_base3_en: false
; CHECK-NEXT:       .vs_streamout_en: false
; CHECK-NEXT:     .hardware_stages:
; CHECK-NEXT:       .ps:
; CHECK-NEXT:         .checksum_value: 0
; CHECK-NEXT:         .debug_mode:     false
; CHECK-NEXT:         .entry_point:    _amdgpu_ps_main
; CHECK-NEXT:         .float_mode:     0xc0
; CHECK-NEXT:         .ieee_mode:      false
; CHECK:         .mem_ordered:    true
; CHECK-NEXT:         .scratch_en:     false
; CHECK-NEXT:         .scratch_memory_size: 0
; CHECK-NEXT:         .sgpr_count:     0x2
; CHECK-NEXT:         .sgpr_limit:     0x6a
; CHECK-NEXT:         .trap_present:   0
; CHECK-NEXT:         .user_data_reg_map:
; CHECK-NEXT:           - 0x10000000
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:         .user_sgprs:     0x1
; CHECK-NEXT:         .uses_uavs:      false
; CHECK-NEXT:         .vgpr_count:     0x2
; CHECK-NEXT:         .vgpr_limit:     0x100
; CHECK-NEXT:         .wavefront_size: 0x40
; CHECK-NEXT:         .wgp_mode:       false
; CHECK-NEXT:         .writes_depth:   0
; CHECK-NEXT:         .writes_uavs:    false
; CHECK-NEXT:       .vs:
; CHECK-NEXT:         .checksum_value: 0xba71f629
; CHECK-NEXT:         .debug_mode:     false
; CHECK-NEXT:         .entry_point:    _amdgpu_vs_main
; CHECK-NEXT:         .float_mode:     0xc0
; CHECK-NEXT:         .ieee_mode:      false
; CHECK:         .mem_ordered:    true
; CHECK-NEXT:         .scratch_en:     false
; CHECK-NEXT:         .scratch_memory_size: 0
; CHECK-NEXT:         .sgpr_count:     0x3
; CHECK-NEXT:         .sgpr_limit:     0x6a
; CHECK-NEXT:         .trap_present:   0
; CHECK-NEXT:         .user_data_reg_map:
; CHECK-NEXT:           - 0x10000000
; CHECK-NEXT:           - 0x10000003
; CHECK-NEXT:           - 0x10000004
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:           - 0xffffffff
; CHECK-NEXT:         .user_sgprs:     0x3
; CHECK-NEXT:         .vgpr_count:     0x4
; CHECK-NEXT:         .vgpr_limit:     0x100
; CHECK-NEXT:         .wavefront_size: 0x20
; CHECK-NEXT:         .wgp_mode:       false
; CHECK-NEXT:     .internal_pipeline_hash:
; CHECK-NEXT:       - 0x{{[0-9a-f]+}}
; CHECK-NEXT:       - 0x{{[0-9a-f]+}}
; CHECK-NEXT:     .num_interpolants: 0x1
; CHECK-NEXT:     .registers:      {}
; CHECK-NEXT:     .shaders:
; CHECK-NEXT:       .pixel:
; CHECK-NEXT:         .api_shader_hash:
; CHECK-NEXT:           - 0
; CHECK-NEXT:           - 0
; CHECK-NEXT:         .hardware_mapping:
; CHECK-NEXT:           - .ps
; CHECK-NEXT:       .vertex:
; CHECK-NEXT:         .api_shader_hash:
; CHECK-NEXT:           - 0x{{[0-9a-f]+}}
; CHECK-NEXT:           - 0
; CHECK-NEXT:         .hardware_mapping:
; CHECK-NEXT:           - .vs
; CHECK-NEXT:     .spill_threshold: 0xffff
; CHECK-NEXT:     .streamout_vertex_strides:
; CHECK-NEXT:       - 0
; CHECK-NEXT:       - 0
; CHECK-NEXT:       - 0
; CHECK-NEXT:       - 0
; CHECK-NEXT:     .type:           VsPs
; CHECK-NEXT:     .user_data_limit: 0x1
; CHECK-NEXT:     .xgl_cache_info:
; CHECK-NEXT:       .128_bit_cache_hash:
; CHECK-NEXT:         - 0x{{[0-9a-f]+}}
; CHECK-NEXT:         - 0x{{[0-9a-f]+}}
; CHECK-NEXT:       .llpc_version: {{.*}}
; CHECK-NEXT: amdpal.version:
; CHECK-NEXT:   - 0x3
; CHECK-NEXT:   - 0
; CHECK-NEXT: ...
