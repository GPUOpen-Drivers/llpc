; NOTE: Assertions have been autogenerated by tool/update_llpc_test_checks.py
; Test color export shader
; RUN: amdllpc -o - -filetype=asm %s | FileCheck -check-prefixes=CHECK %s
[Version]
version = 70

[GraphicsPipelineState]
colorBuffer[0].format = VK_FORMAT_R8G8B8A8_UNORM
colorBuffer[0].channelWriteMask = 14
colorBuffer[0].blendEnable = 0
colorBuffer[0].blendSrcAlphaToColor = 0
unlinked = 1
enableColorExportShader = 1


[FsOutput]
data=0, 1, 0, 0, 0, 862336118, 50,


; CHECK-LABEL: color_export_shader:
; CHECK:         s_waitcnt vmcnt(0) expcnt(0) lgkmcnt(0)
; CHECK-NEXT:    v_cvt_pkrtz_f16_f32_e32 v0, v0, v1
; CHECK-NEXT:    v_cvt_pkrtz_f16_f32_e32 v1, v2, v3
; CHECK-NEXT:    exp mrt0 v0, v0, v1, v1 done compr vm
; CHECK-NEXT:    s_endpgm
