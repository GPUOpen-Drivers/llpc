; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --function-signature
; RUN: opt --opaque-pointers=0 --enforce-pointer-metadata=1 --verify-each -passes='add-types-metadata,dxil-cont-lgc-rt-op-converter,lint,lower-raytracing-pipeline,lint,remove-types-metadata' -S %s 2>%t.stderr | FileCheck -check-prefix=LOWERRAYTRACINGPIPELINE %s
; RUN: count 0 < %t.stderr

; Test that we correctly save and restore registers before/after recursive
; TraceRay or CallShader if there are live values in payload registers that
; are not overwritten at the end of the shader, e.g. the payload memory pointer.
; This applies to ClosestHit and Miss.
; This file was generated by compiling payload_save_registers.ll.hlsl
; and manually adding some gpurt content at the end.
; Also, function name mangling was removed.
; Note that the payload has payload access qualifiers set.

target datalayout = "e-m:e-p:64:32-p20:32:32-p21:32:32-i1:32-i8:8-i16:32-i32:32-i64:32-f16:32-f32:32-f64:32-v16:32-v32:32-v48:32-v64:32-v80:32-v96:32-v112:32-v128:32-v144:32-v160:32-v176:32-v192:32-v208:32-v224:32-v240:32-v256:32-n8:16:32"
; target triple = "dxil-ms-dx"

%dx.types.Handle = type { i8* }
%struct.OuterPayload = type { [15 x float], [15 x float] }
%struct.InnerPayload = type { float }
%dx.types.ResourceProperties = type { i32, i32 }
%struct.RaytracingAccelerationStructure = type { i32 }

@"\01?myAccelerationStructure@@3URaytracingAccelerationStructure@@A" = external constant %dx.types.Handle, align 4

; Function Attrs: nounwind
define void @Miss(%struct.OuterPayload* noalias nocapture %outerPayload) #0 {
; LOWERRAYTRACINGPIPELINE-LABEL: define {{[^@]+}}@Miss
; LOWERRAYTRACINGPIPELINE-SAME: ([[STRUCT_SYSTEMDATA:%.*]] [[TMP0:%.*]]) #[[ATTR0:[0-9]+]] !continuation.registercount !24 !continuation !26 {
; LOWERRAYTRACINGPIPELINE-NEXT:    [[SYSTEM_DATA_ALLOCA:%.*]] = alloca [[STRUCT_SYSTEMDATA]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP2:%.*]] = alloca [[STRUCT_OUTERPAYLOAD:%.*]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP3:%.*]] = call [[STRUCT_SYSTEMDATA]] @continuations.getSystemData.s_struct.SystemDatas()
; LOWERRAYTRACINGPIPELINE-NEXT:    store [[STRUCT_SYSTEMDATA]] [[TMP3]], %struct.SystemData* [[SYSTEM_DATA_ALLOCA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP4:%.*]] = getelementptr inbounds [[STRUCT_SYSTEMDATA]], %struct.SystemData* [[SYSTEM_DATA_ALLOCA]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[LOCAL_ROOT_INDEX:%.*]] = call i32 @_cont_GetLocalRootIndex(%struct.DispatchSystemData* [[TMP4]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @amd.dx.setLocalRootIndex(i32 [[LOCAL_ROOT_INDEX]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP5:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP6:%.*]] = bitcast [15 x float]* [[TMP5]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP7:%.*]] = getelementptr i32, i32* [[TMP6]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP8:%.*]] = getelementptr i32, i32* [[TMP7]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP9:%.*]] = load i32, i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN:%.*]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i32 7), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP9]], i32* [[TMP8]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP10:%.*]] = getelementptr i32, i32* [[TMP7]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP11:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 8), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP11]], i32* [[TMP10]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP12:%.*]] = getelementptr i32, i32* [[TMP7]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP13:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 9), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP13]], i32* [[TMP12]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP14:%.*]] = getelementptr i32, i32* [[TMP7]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP15:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 10), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP15]], i32* [[TMP14]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP16:%.*]] = getelementptr i32, i32* [[TMP7]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP17:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 11), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP17]], i32* [[TMP16]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP18:%.*]] = getelementptr i32, i32* [[TMP7]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP19:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 12), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP19]], i32* [[TMP18]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP20:%.*]] = getelementptr i32, i32* [[TMP7]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP21:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 13), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP21]], i32* [[TMP20]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP22:%.*]] = getelementptr i32, i32* [[TMP7]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP23:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 14), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP23]], i32* [[TMP22]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP24:%.*]] = getelementptr i32, i32* [[TMP7]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP25:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 15), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP25]], i32* [[TMP24]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP26:%.*]] = getelementptr i32, i32* [[TMP7]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP27:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 16), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP27]], i32* [[TMP26]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP28:%.*]] = getelementptr i32, i32* [[TMP7]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP29:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 17), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP29]], i32* [[TMP28]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP30:%.*]] = getelementptr i32, i32* [[TMP7]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP31:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 18), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP31]], i32* [[TMP30]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP32:%.*]] = getelementptr i32, i32* [[TMP7]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP33:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 19), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP33]], i32* [[TMP32]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP34:%.*]] = getelementptr i32, i32* [[TMP7]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP35:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 20), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP35]], i32* [[TMP34]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP36:%.*]] = getelementptr i32, i32* [[TMP7]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP37:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_4_MISS_IN]], %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_4_miss_in*), i32 0, i32 0, i64 21), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP37]], i32* [[TMP36]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    call void (...) @registerbuffer.setpointerbarrier([37 x i32]* @PAYLOAD)
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP38:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 0), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP39:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 22), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP40:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 23), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP41:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 24), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP42:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 25), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP43:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 26), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP44:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 27), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP45:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 28), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP46:%.*]] = load i32, i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 29), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP47:%.*]] = load [[DX_TYPES_HANDLE:%.*]], %dx.types.Handle* @"\01?myAccelerationStructure@@3URaytracingAccelerationStructure@@A", align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP48:%.*]] = alloca [[STRUCT_INNERPAYLOAD:%.*]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP49:%.*]] = bitcast %struct.InnerPayload* [[TMP48]] to i8*
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @llvm.lifetime.start.p0i8(i64 4, i8* [[TMP49]]) #[[ATTR0]]
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP50:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP51:%.*]] = load float, float* [[TMP50]], align 4, !tbaa [[TBAA27:![0-9]+]]
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP52:%.*]] = getelementptr inbounds [[STRUCT_INNERPAYLOAD]], %struct.InnerPayload* [[TMP48]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP51]], float* [[TMP52]], align 4, !tbaa [[TBAA27]]
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP53:%.*]] = call [[DX_TYPES_HANDLE]] @dx.op.createHandleForLib.dx.types.Handle(i32 160, [[DX_TYPES_HANDLE]] [[TMP47]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP54:%.*]] = call [[DX_TYPES_HANDLE]] @dx.op.annotateHandle(i32 216, [[DX_TYPES_HANDLE]] [[TMP53]], [[DX_TYPES_RESOURCEPROPERTIES:%.*]] { i32 16, i32 0 })
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP55:%.*]] = call i64 @amd.dx.getAccelStructAddr([[DX_TYPES_HANDLE]] [[TMP54]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP56:%.*]] = getelementptr inbounds [[STRUCT_SYSTEMDATA]], %struct.SystemData* [[SYSTEM_DATA_ALLOCA]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @_cont_TraceRay.struct.InnerPayload.attr_max_32_bytes(%struct.DispatchSystemData* [[TMP56]], i64 [[TMP55]], i32 0, i32 0, i32 0, i32 0, i32 0, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 1.000000e+00, %struct.InnerPayload* [[TMP48]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP57:%.*]] = load float, float* [[TMP52]], align 4, !tbaa [[TBAA27]]
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP57]], float* [[TMP50]], align 4, !tbaa [[TBAA27]]
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @llvm.lifetime.end.p0i8(i64 4, i8* [[TMP49]]) #[[ATTR0]]
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP38]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 0), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP39]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 22), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP40]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 23), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP41]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 24), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP42]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 25), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP43]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 26), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP44]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 27), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP45]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 28), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP46]], i32* getelementptr inbounds ([37 x i32], [37 x i32]* @PAYLOAD, i32 0, i32 29), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    call void (...) @registerbuffer.setpointerbarrier([37 x i32]* @PAYLOAD)
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP58:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP59:%.*]] = bitcast [15 x float]* [[TMP58]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP60:%.*]] = getelementptr i32, i32* [[TMP59]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP61:%.*]] = getelementptr i32, i32* [[TMP60]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP62:%.*]] = load i32, i32* [[TMP61]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP62]], i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT:%.*]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i32 7), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP63:%.*]] = getelementptr i32, i32* [[TMP60]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP64:%.*]] = load i32, i32* [[TMP63]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP64]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 8), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP65:%.*]] = getelementptr i32, i32* [[TMP60]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP66:%.*]] = load i32, i32* [[TMP65]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP66]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 9), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP67:%.*]] = getelementptr i32, i32* [[TMP60]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP68:%.*]] = load i32, i32* [[TMP67]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP68]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 10), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP69:%.*]] = getelementptr i32, i32* [[TMP60]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP70:%.*]] = load i32, i32* [[TMP69]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP70]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 11), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP71:%.*]] = getelementptr i32, i32* [[TMP60]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP72:%.*]] = load i32, i32* [[TMP71]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP72]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 12), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP73:%.*]] = getelementptr i32, i32* [[TMP60]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP74:%.*]] = load i32, i32* [[TMP73]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP74]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 13), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP75:%.*]] = getelementptr i32, i32* [[TMP60]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP76:%.*]] = load i32, i32* [[TMP75]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP76]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 14), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP77:%.*]] = getelementptr i32, i32* [[TMP60]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP78:%.*]] = load i32, i32* [[TMP77]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP78]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 15), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP79:%.*]] = getelementptr i32, i32* [[TMP60]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP80:%.*]] = load i32, i32* [[TMP79]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP80]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 16), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP81:%.*]] = getelementptr i32, i32* [[TMP60]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP82:%.*]] = load i32, i32* [[TMP81]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP82]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 17), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP83:%.*]] = getelementptr i32, i32* [[TMP60]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP84:%.*]] = load i32, i32* [[TMP83]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP84]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 18), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP85:%.*]] = getelementptr i32, i32* [[TMP60]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP86:%.*]] = load i32, i32* [[TMP85]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP86]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 19), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP87:%.*]] = getelementptr i32, i32* [[TMP60]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP88:%.*]] = load i32, i32* [[TMP87]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP88]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 20), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP89:%.*]] = getelementptr i32, i32* [[TMP60]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP90:%.*]] = load i32, i32* [[TMP89]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP90]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_ATTR_MAX_8_I32S_LAYOUT_6_MISS_OUT]], %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.attr_max_8_i32s.layout_6_miss_out*), i32 0, i32 0, i64 21), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP91:%.*]] = getelementptr inbounds [[STRUCT_SYSTEMDATA]], %struct.SystemData* [[SYSTEM_DATA_ALLOCA]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP92:%.*]] = load [[STRUCT_DISPATCHSYSTEMDATA:%.*]], %struct.DispatchSystemData* [[TMP91]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    ret [[STRUCT_DISPATCHSYSTEMDATA]] [[TMP92]], !continuation.registercount !24
;
  %1 = load %dx.types.Handle, %dx.types.Handle* @"\01?myAccelerationStructure@@3URaytracingAccelerationStructure@@A", align 4
  %2 = alloca %struct.InnerPayload, align 4
  %3 = bitcast %struct.InnerPayload* %2 to i8*
  call void @llvm.lifetime.start(i64 4, i8* %3) #0
  %4 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 14
  %5 = load float, float* %4, align 4, !tbaa !23
  %6 = getelementptr inbounds %struct.InnerPayload, %struct.InnerPayload* %2, i32 0, i32 0
  store float %5, float* %6, align 4, !tbaa !23
  %7 = call %dx.types.Handle @dx.op.createHandleForLib.dx.types.Handle(i32 160, %dx.types.Handle %1)  ; CreateHandleForLib(Resource)
  %8 = call %dx.types.Handle @dx.op.annotateHandle(i32 216, %dx.types.Handle %7, %dx.types.ResourceProperties { i32 16, i32 0 })  ; AnnotateHandle(res,props)  resource: RTAccelerationStructure
  call void @dx.op.traceRay.struct.InnerPayload(i32 157, %dx.types.Handle %8, i32 0, i32 0, i32 0, i32 0, i32 0, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 1.000000e+00, %struct.InnerPayload* nonnull %2)  ; TraceRay(AccelerationStructure,RayFlags,InstanceInclusionMask,RayContributionToHitGroupIndex,MultiplierForGeometryContributionToShaderIndex,MissShaderIndex,Origin_X,Origin_Y,Origin_Z,TMin,Direction_X,Direction_Y,Direction_Z,TMax,payload)
  %9 = load float, float* %6, align 4, !tbaa !23
  store float %9, float* %4, align 4, !tbaa !23
  call void @llvm.lifetime.end(i64 4, i8* %3) #0
  ret void
}

; Function Attrs: nounwind
declare void @llvm.lifetime.start(i64, i8* nocapture) #0

; Function Attrs: nounwind
declare void @llvm.lifetime.end(i64, i8* nocapture) #0

; Function Attrs: nounwind
define void @Callable(%struct.OuterPayload* noalias %outerPayload) #0 {
; LOWERRAYTRACINGPIPELINE-LABEL: define {{[^@]+}}@Callable
; LOWERRAYTRACINGPIPELINE-SAME: ([[STRUCT_DISPATCHSYSTEMDATA:%.*]] [[TMP0:%.*]]) #[[ATTR0]] !continuation.registercount !24 !continuation !31 {
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP2:%.*]] = alloca [[STRUCT_OUTERPAYLOAD:%.*]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[SYSTEM_DATA_ALLOCA:%.*]] = alloca [[STRUCT_DISPATCHSYSTEMDATA]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP3:%.*]] = alloca [[STRUCT_OUTERPAYLOAD]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP4:%.*]] = call [[STRUCT_DISPATCHSYSTEMDATA]] @continuations.getSystemData.s_struct.DispatchSystemDatas()
; LOWERRAYTRACINGPIPELINE-NEXT:    store [[STRUCT_DISPATCHSYSTEMDATA]] [[TMP4]], %struct.DispatchSystemData* [[SYSTEM_DATA_ALLOCA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[LOCAL_ROOT_INDEX:%.*]] = call i32 @_cont_GetLocalRootIndex(%struct.DispatchSystemData* [[SYSTEM_DATA_ALLOCA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @amd.dx.setLocalRootIndex(i32 [[LOCAL_ROOT_INDEX]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP5:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP6:%.*]] = bitcast [15 x float]* [[TMP5]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP7:%.*]] = getelementptr i32, i32* [[TMP6]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP8:%.*]] = getelementptr i32, i32* [[TMP7]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP9:%.*]] = load i32, i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER:%.*]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i32 0), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP9]], i32* [[TMP8]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP10:%.*]] = getelementptr i32, i32* [[TMP7]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP11:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 1), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP11]], i32* [[TMP10]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP12:%.*]] = getelementptr i32, i32* [[TMP7]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP13:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 2), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP13]], i32* [[TMP12]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP14:%.*]] = getelementptr i32, i32* [[TMP7]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP15:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 3), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP15]], i32* [[TMP14]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP16:%.*]] = getelementptr i32, i32* [[TMP7]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP17:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 4), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP17]], i32* [[TMP16]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP18:%.*]] = getelementptr i32, i32* [[TMP7]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP19:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 5), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP19]], i32* [[TMP18]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP20:%.*]] = getelementptr i32, i32* [[TMP7]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP21:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 6), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP21]], i32* [[TMP20]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP22:%.*]] = getelementptr i32, i32* [[TMP7]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP23:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 7), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP23]], i32* [[TMP22]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP24:%.*]] = getelementptr i32, i32* [[TMP7]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP25:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 8), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP25]], i32* [[TMP24]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP26:%.*]] = getelementptr i32, i32* [[TMP7]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP27:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 9), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP27]], i32* [[TMP26]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP28:%.*]] = getelementptr i32, i32* [[TMP7]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP29:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 10), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP29]], i32* [[TMP28]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP30:%.*]] = getelementptr i32, i32* [[TMP7]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP31:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 11), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP31]], i32* [[TMP30]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP32:%.*]] = getelementptr i32, i32* [[TMP7]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP33:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 12), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP33]], i32* [[TMP32]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP34:%.*]] = getelementptr i32, i32* [[TMP7]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP35:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 13), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP35]], i32* [[TMP34]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP36:%.*]] = getelementptr i32, i32* [[TMP7]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP37:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 14), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP37]], i32* [[TMP36]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP38:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP39:%.*]] = bitcast [15 x float]* [[TMP38]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP40:%.*]] = getelementptr i32, i32* [[TMP39]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP41:%.*]] = getelementptr i32, i32* [[TMP40]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP42:%.*]] = load i32, i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i32 15), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP42]], i32* [[TMP41]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP43:%.*]] = getelementptr i32, i32* [[TMP40]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP44:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 16), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP44]], i32* [[TMP43]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP45:%.*]] = getelementptr i32, i32* [[TMP40]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP46:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 17), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP46]], i32* [[TMP45]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP47:%.*]] = getelementptr i32, i32* [[TMP40]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP48:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 18), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP48]], i32* [[TMP47]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP49:%.*]] = getelementptr i32, i32* [[TMP40]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP50:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 19), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP50]], i32* [[TMP49]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP51:%.*]] = getelementptr i32, i32* [[TMP40]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP52:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 20), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP52]], i32* [[TMP51]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP53:%.*]] = getelementptr i32, i32* [[TMP40]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP54:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 21), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP54]], i32* [[TMP53]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP55:%.*]] = getelementptr i32, i32* [[TMP40]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP56:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 22), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP56]], i32* [[TMP55]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP57:%.*]] = getelementptr i32, i32* [[TMP40]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP58:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 23), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP58]], i32* [[TMP57]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP59:%.*]] = getelementptr i32, i32* [[TMP40]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP60:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 24), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP60]], i32* [[TMP59]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP61:%.*]] = getelementptr i32, i32* [[TMP40]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP62:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 25), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP62]], i32* [[TMP61]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP63:%.*]] = getelementptr i32, i32* [[TMP40]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP64:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 26), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP64]], i32* [[TMP63]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP65:%.*]] = getelementptr i32, i32* [[TMP40]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP66:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 27), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP66]], i32* [[TMP65]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP67:%.*]] = getelementptr i32, i32* [[TMP40]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP68:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 28), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP68]], i32* [[TMP67]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP69:%.*]] = getelementptr i32, i32* [[TMP40]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP70:%.*]] = load i32, i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 29), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP70]], i32* [[TMP69]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    call void (...) @registerbuffer.setpointerbarrier([37 x i32]* @PAYLOAD)
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP71:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP72:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP73:%.*]] = load float, float* [[TMP72]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP73]], float* [[TMP71]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP74:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP75:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP76:%.*]] = load float, float* [[TMP75]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP76]], float* [[TMP74]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP77:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP78:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP79:%.*]] = load float, float* [[TMP78]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP79]], float* [[TMP77]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP80:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP81:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP82:%.*]] = load float, float* [[TMP81]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP82]], float* [[TMP80]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP83:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP84:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP85:%.*]] = load float, float* [[TMP84]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP85]], float* [[TMP83]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP86:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP87:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP88:%.*]] = load float, float* [[TMP87]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP88]], float* [[TMP86]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP89:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP90:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP91:%.*]] = load float, float* [[TMP90]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP91]], float* [[TMP89]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP92:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP93:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP94:%.*]] = load float, float* [[TMP93]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP94]], float* [[TMP92]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP95:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP96:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP97:%.*]] = load float, float* [[TMP96]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP97]], float* [[TMP95]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP98:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP99:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP100:%.*]] = load float, float* [[TMP99]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP100]], float* [[TMP98]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP101:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP102:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP103:%.*]] = load float, float* [[TMP102]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP103]], float* [[TMP101]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP104:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP105:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP106:%.*]] = load float, float* [[TMP105]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP106]], float* [[TMP104]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP107:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP108:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP109:%.*]] = load float, float* [[TMP108]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP109]], float* [[TMP107]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP110:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP111:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP112:%.*]] = load float, float* [[TMP111]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP112]], float* [[TMP110]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP113:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 0, i32 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP114:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0, i32 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP115:%.*]] = load float, float* [[TMP114]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP115]], float* [[TMP113]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP116:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP117:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP118:%.*]] = load float, float* [[TMP117]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP118]], float* [[TMP116]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP119:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP120:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP121:%.*]] = load float, float* [[TMP120]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP121]], float* [[TMP119]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP122:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP123:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP124:%.*]] = load float, float* [[TMP123]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP124]], float* [[TMP122]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP125:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP126:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP127:%.*]] = load float, float* [[TMP126]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP127]], float* [[TMP125]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP128:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP129:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP130:%.*]] = load float, float* [[TMP129]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP130]], float* [[TMP128]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP131:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP132:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP133:%.*]] = load float, float* [[TMP132]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP133]], float* [[TMP131]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP134:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP135:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP136:%.*]] = load float, float* [[TMP135]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP136]], float* [[TMP134]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP137:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP138:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP139:%.*]] = load float, float* [[TMP138]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP139]], float* [[TMP137]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP140:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP141:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP142:%.*]] = load float, float* [[TMP141]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP142]], float* [[TMP140]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP143:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP144:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP145:%.*]] = load float, float* [[TMP144]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP145]], float* [[TMP143]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP146:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP147:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP148:%.*]] = load float, float* [[TMP147]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP148]], float* [[TMP146]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP149:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP150:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP151:%.*]] = load float, float* [[TMP150]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP151]], float* [[TMP149]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP152:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP153:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP154:%.*]] = load float, float* [[TMP153]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP154]], float* [[TMP152]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP155:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP156:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP157:%.*]] = load float, float* [[TMP156]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP157]], float* [[TMP155]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP158:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP2]], i32 0, i32 1, i32 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP159:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1, i32 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP160:%.*]] = load float, float* [[TMP159]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP160]], float* [[TMP158]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @_cont_CallShader.struct.OuterPayload(%struct.DispatchSystemData* [[SYSTEM_DATA_ALLOCA]], i32 0, %struct.OuterPayload* [[TMP2]])
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP161:%.*]] = load float, float* [[TMP71]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP161]], float* [[TMP72]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP162:%.*]] = load float, float* [[TMP74]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP162]], float* [[TMP75]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP163:%.*]] = load float, float* [[TMP77]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP163]], float* [[TMP78]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP164:%.*]] = load float, float* [[TMP80]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP164]], float* [[TMP81]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP165:%.*]] = load float, float* [[TMP83]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP165]], float* [[TMP84]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP166:%.*]] = load float, float* [[TMP86]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP166]], float* [[TMP87]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP167:%.*]] = load float, float* [[TMP89]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP167]], float* [[TMP90]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP168:%.*]] = load float, float* [[TMP92]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP168]], float* [[TMP93]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP169:%.*]] = load float, float* [[TMP95]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP169]], float* [[TMP96]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP170:%.*]] = load float, float* [[TMP98]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP170]], float* [[TMP99]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP171:%.*]] = load float, float* [[TMP101]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP171]], float* [[TMP102]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP172:%.*]] = load float, float* [[TMP104]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP172]], float* [[TMP105]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP173:%.*]] = load float, float* [[TMP107]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP173]], float* [[TMP108]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP174:%.*]] = load float, float* [[TMP110]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP174]], float* [[TMP111]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP175:%.*]] = load float, float* [[TMP113]], align 8
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP175]], float* [[TMP114]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP176:%.*]] = load float, float* [[TMP116]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP176]], float* [[TMP117]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP177:%.*]] = load float, float* [[TMP119]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP177]], float* [[TMP120]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP178:%.*]] = load float, float* [[TMP122]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP178]], float* [[TMP123]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP179:%.*]] = load float, float* [[TMP125]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP179]], float* [[TMP126]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP180:%.*]] = load float, float* [[TMP128]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP180]], float* [[TMP129]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP181:%.*]] = load float, float* [[TMP131]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP181]], float* [[TMP132]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP182:%.*]] = load float, float* [[TMP134]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP182]], float* [[TMP135]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP183:%.*]] = load float, float* [[TMP137]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP183]], float* [[TMP138]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP184:%.*]] = load float, float* [[TMP140]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP184]], float* [[TMP141]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP185:%.*]] = load float, float* [[TMP143]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP185]], float* [[TMP144]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP186:%.*]] = load float, float* [[TMP146]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP186]], float* [[TMP147]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP187:%.*]] = load float, float* [[TMP149]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP187]], float* [[TMP150]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP188:%.*]] = load float, float* [[TMP152]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP188]], float* [[TMP153]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP189:%.*]] = load float, float* [[TMP155]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP189]], float* [[TMP156]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP190:%.*]] = load float, float* [[TMP158]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store float [[TMP190]], float* [[TMP159]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    call void (...) @registerbuffer.setpointerbarrier([37 x i32]* @PAYLOAD)
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP191:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP192:%.*]] = bitcast [15 x float]* [[TMP191]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP193:%.*]] = getelementptr i32, i32* [[TMP192]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP194:%.*]] = getelementptr i32, i32* [[TMP193]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP195:%.*]] = load i32, i32* [[TMP194]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP195]], i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i32 0), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP196:%.*]] = getelementptr i32, i32* [[TMP193]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP197:%.*]] = load i32, i32* [[TMP196]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP197]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 1), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP198:%.*]] = getelementptr i32, i32* [[TMP193]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP199:%.*]] = load i32, i32* [[TMP198]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP199]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 2), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP200:%.*]] = getelementptr i32, i32* [[TMP193]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP201:%.*]] = load i32, i32* [[TMP200]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP201]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 3), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP202:%.*]] = getelementptr i32, i32* [[TMP193]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP203:%.*]] = load i32, i32* [[TMP202]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP203]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 4), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP204:%.*]] = getelementptr i32, i32* [[TMP193]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP205:%.*]] = load i32, i32* [[TMP204]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP205]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 5), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP206:%.*]] = getelementptr i32, i32* [[TMP193]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP207:%.*]] = load i32, i32* [[TMP206]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP207]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 6), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP208:%.*]] = getelementptr i32, i32* [[TMP193]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP209:%.*]] = load i32, i32* [[TMP208]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP209]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 7), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP210:%.*]] = getelementptr i32, i32* [[TMP193]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP211:%.*]] = load i32, i32* [[TMP210]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP211]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 8), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP212:%.*]] = getelementptr i32, i32* [[TMP193]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP213:%.*]] = load i32, i32* [[TMP212]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP213]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 9), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP214:%.*]] = getelementptr i32, i32* [[TMP193]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP215:%.*]] = load i32, i32* [[TMP214]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP215]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 10), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP216:%.*]] = getelementptr i32, i32* [[TMP193]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP217:%.*]] = load i32, i32* [[TMP216]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP217]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 11), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP218:%.*]] = getelementptr i32, i32* [[TMP193]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP219:%.*]] = load i32, i32* [[TMP218]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP219]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 12), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP220:%.*]] = getelementptr i32, i32* [[TMP193]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP221:%.*]] = load i32, i32* [[TMP220]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP221]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 13), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP222:%.*]] = getelementptr i32, i32* [[TMP193]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP223:%.*]] = load i32, i32* [[TMP222]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP223]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 14), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP224:%.*]] = getelementptr inbounds [[STRUCT_OUTERPAYLOAD]], %struct.OuterPayload* [[TMP3]], i32 0, i32 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP225:%.*]] = bitcast [15 x float]* [[TMP224]] to i32*
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP226:%.*]] = getelementptr i32, i32* [[TMP225]], i32 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP227:%.*]] = getelementptr i32, i32* [[TMP226]], i64 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP228:%.*]] = load i32, i32* [[TMP227]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP228]], i32* getelementptr inbounds ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i32 15), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP229:%.*]] = getelementptr i32, i32* [[TMP226]], i64 1
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP230:%.*]] = load i32, i32* [[TMP229]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP230]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 16), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP231:%.*]] = getelementptr i32, i32* [[TMP226]], i64 2
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP232:%.*]] = load i32, i32* [[TMP231]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP232]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 17), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP233:%.*]] = getelementptr i32, i32* [[TMP226]], i64 3
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP234:%.*]] = load i32, i32* [[TMP233]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP234]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 18), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP235:%.*]] = getelementptr i32, i32* [[TMP226]], i64 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP236:%.*]] = load i32, i32* [[TMP235]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP236]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 19), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP237:%.*]] = getelementptr i32, i32* [[TMP226]], i64 5
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP238:%.*]] = load i32, i32* [[TMP237]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP238]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 20), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP239:%.*]] = getelementptr i32, i32* [[TMP226]], i64 6
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP240:%.*]] = load i32, i32* [[TMP239]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP240]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 21), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP241:%.*]] = getelementptr i32, i32* [[TMP226]], i64 7
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP242:%.*]] = load i32, i32* [[TMP241]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP242]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 22), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP243:%.*]] = getelementptr i32, i32* [[TMP226]], i64 8
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP244:%.*]] = load i32, i32* [[TMP243]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP244]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 23), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP245:%.*]] = getelementptr i32, i32* [[TMP226]], i64 9
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP246:%.*]] = load i32, i32* [[TMP245]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP246]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 24), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP247:%.*]] = getelementptr i32, i32* [[TMP226]], i64 10
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP248:%.*]] = load i32, i32* [[TMP247]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP248]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 25), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP249:%.*]] = getelementptr i32, i32* [[TMP226]], i64 11
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP250:%.*]] = load i32, i32* [[TMP249]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP250]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 26), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP251:%.*]] = getelementptr i32, i32* [[TMP226]], i64 12
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP252:%.*]] = load i32, i32* [[TMP251]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP252]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 27), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP253:%.*]] = getelementptr i32, i32* [[TMP226]], i64 13
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP254:%.*]] = load i32, i32* [[TMP253]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP254]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 28), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP255:%.*]] = getelementptr i32, i32* [[TMP226]], i64 14
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP256:%.*]] = load i32, i32* [[TMP255]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    store i32 [[TMP256]], i32* getelementptr ([[STRUCT_OUTERPAYLOAD_LAYOUT_CALLSHADER]], %struct.OuterPayload.layout_callshader* bitcast ([37 x i32]* @PAYLOAD to %struct.OuterPayload.layout_callshader*), i32 0, i32 0, i64 29), align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TMP257:%.*]] = load [[STRUCT_DISPATCHSYSTEMDATA]], %struct.DispatchSystemData* [[SYSTEM_DATA_ALLOCA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    ret [[STRUCT_DISPATCHSYSTEMDATA]] [[TMP257]], !continuation.registercount !24
;
  %1 = alloca %struct.OuterPayload, align 8
  %2 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 0
  %3 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 0
  %4 = load float, float* %3, align 4
  store float %4, float* %2, align 8
  %5 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 1
  %6 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 1
  %7 = load float, float* %6, align 4
  store float %7, float* %5, align 4
  %8 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 2
  %9 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 2
  %10 = load float, float* %9, align 4
  store float %10, float* %8, align 8
  %11 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 3
  %12 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 3
  %13 = load float, float* %12, align 4
  store float %13, float* %11, align 4
  %14 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 4
  %15 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 4
  %16 = load float, float* %15, align 4
  store float %16, float* %14, align 8
  %17 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 5
  %18 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 5
  %19 = load float, float* %18, align 4
  store float %19, float* %17, align 4
  %20 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 6
  %21 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 6
  %22 = load float, float* %21, align 4
  store float %22, float* %20, align 8
  %23 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 7
  %24 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 7
  %25 = load float, float* %24, align 4
  store float %25, float* %23, align 4
  %26 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 8
  %27 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 8
  %28 = load float, float* %27, align 4
  store float %28, float* %26, align 8
  %29 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 9
  %30 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 9
  %31 = load float, float* %30, align 4
  store float %31, float* %29, align 4
  %32 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 10
  %33 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 10
  %34 = load float, float* %33, align 4
  store float %34, float* %32, align 8
  %35 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 11
  %36 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 11
  %37 = load float, float* %36, align 4
  store float %37, float* %35, align 4
  %38 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 12
  %39 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 12
  %40 = load float, float* %39, align 4
  store float %40, float* %38, align 8
  %41 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 13
  %42 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 13
  %43 = load float, float* %42, align 4
  store float %43, float* %41, align 4
  %44 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 0, i32 14
  %45 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 0, i32 14
  %46 = load float, float* %45, align 4
  store float %46, float* %44, align 8
  %47 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 0
  %48 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 0
  %49 = load float, float* %48, align 4
  store float %49, float* %47, align 4
  %50 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 1
  %51 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 1
  %52 = load float, float* %51, align 4
  store float %52, float* %50, align 4
  %53 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 2
  %54 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 2
  %55 = load float, float* %54, align 4
  store float %55, float* %53, align 4
  %56 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 3
  %57 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 3
  %58 = load float, float* %57, align 4
  store float %58, float* %56, align 4
  %59 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 4
  %60 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 4
  %61 = load float, float* %60, align 4
  store float %61, float* %59, align 4
  %62 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 5
  %63 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 5
  %64 = load float, float* %63, align 4
  store float %64, float* %62, align 4
  %65 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 6
  %66 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 6
  %67 = load float, float* %66, align 4
  store float %67, float* %65, align 4
  %68 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 7
  %69 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 7
  %70 = load float, float* %69, align 4
  store float %70, float* %68, align 4
  %71 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 8
  %72 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 8
  %73 = load float, float* %72, align 4
  store float %73, float* %71, align 4
  %74 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 9
  %75 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 9
  %76 = load float, float* %75, align 4
  store float %76, float* %74, align 4
  %77 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 10
  %78 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 10
  %79 = load float, float* %78, align 4
  store float %79, float* %77, align 4
  %80 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 11
  %81 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 11
  %82 = load float, float* %81, align 4
  store float %82, float* %80, align 4
  %83 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 12
  %84 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 12
  %85 = load float, float* %84, align 4
  store float %85, float* %83, align 4
  %86 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 13
  %87 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 13
  %88 = load float, float* %87, align 4
  store float %88, float* %86, align 4
  %89 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %1, i32 0, i32 1, i32 14
  %90 = getelementptr inbounds %struct.OuterPayload, %struct.OuterPayload* %outerPayload, i32 0, i32 1, i32 14
  %91 = load float, float* %90, align 4
  store float %91, float* %89, align 4
  call void @dx.op.callShader.struct.OuterPayload(i32 159, i32 0, %struct.OuterPayload* nonnull %1)  ; CallShader(ShaderIndex,Parameter)
  %92 = load float, float* %2, align 8
  store float %92, float* %3, align 4
  %93 = load float, float* %5, align 4
  store float %93, float* %6, align 4
  %94 = load float, float* %8, align 8
  store float %94, float* %9, align 4
  %95 = load float, float* %11, align 4
  store float %95, float* %12, align 4
  %96 = load float, float* %14, align 8
  store float %96, float* %15, align 4
  %97 = load float, float* %17, align 4
  store float %97, float* %18, align 4
  %98 = load float, float* %20, align 8
  store float %98, float* %21, align 4
  %99 = load float, float* %23, align 4
  store float %99, float* %24, align 4
  %100 = load float, float* %26, align 8
  store float %100, float* %27, align 4
  %101 = load float, float* %29, align 4
  store float %101, float* %30, align 4
  %102 = load float, float* %32, align 8
  store float %102, float* %33, align 4
  %103 = load float, float* %35, align 4
  store float %103, float* %36, align 4
  %104 = load float, float* %38, align 8
  store float %104, float* %39, align 4
  %105 = load float, float* %41, align 4
  store float %105, float* %42, align 4
  %106 = load float, float* %44, align 8
  store float %106, float* %45, align 4
  %107 = load float, float* %47, align 4
  store float %107, float* %48, align 4
  %108 = load float, float* %50, align 4
  store float %108, float* %51, align 4
  %109 = load float, float* %53, align 4
  store float %109, float* %54, align 4
  %110 = load float, float* %56, align 4
  store float %110, float* %57, align 4
  %111 = load float, float* %59, align 4
  store float %111, float* %60, align 4
  %112 = load float, float* %62, align 4
  store float %112, float* %63, align 4
  %113 = load float, float* %65, align 4
  store float %113, float* %66, align 4
  %114 = load float, float* %68, align 4
  store float %114, float* %69, align 4
  %115 = load float, float* %71, align 4
  store float %115, float* %72, align 4
  %116 = load float, float* %74, align 4
  store float %116, float* %75, align 4
  %117 = load float, float* %77, align 4
  store float %117, float* %78, align 4
  %118 = load float, float* %80, align 4
  store float %118, float* %81, align 4
  %119 = load float, float* %83, align 4
  store float %119, float* %84, align 4
  %120 = load float, float* %86, align 4
  store float %120, float* %87, align 4
  %121 = load float, float* %89, align 4
  store float %121, float* %90, align 4
  ret void
}

; Function Attrs: nounwind
declare void @dx.op.traceRay.struct.InnerPayload(i32, %dx.types.Handle, i32, i32, i32, i32, i32, float, float, float, float, float, float, float, float, %struct.InnerPayload*) #0

; Function Attrs: nounwind
declare void @dx.op.callShader.struct.OuterPayload(i32, i32, %struct.OuterPayload*) #0

; Function Attrs: nounwind readnone
declare %dx.types.Handle @dx.op.annotateHandle(i32, %dx.types.Handle, %dx.types.ResourceProperties) #1

; Function Attrs: nounwind readonly
declare %dx.types.Handle @dx.op.createHandleForLib.dx.types.Handle(i32, %dx.types.Handle) #2

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; BEGIN manually added gpurt content
%struct.HitData = type { float, i32 }
%struct.DispatchSystemData = type { i32 }
%struct.SystemData = type { %struct.DispatchSystemData }
%struct.TraversalData = type { %struct.SystemData }
%struct.AnyHitTraversalData = type { %struct.TraversalData, %struct.HitData }
%struct.BuiltInTriangleIntersectionAttributes = type { <2 x float> }
declare %struct.DispatchSystemData @_cont_SetupRayGen() #4
declare %struct.DispatchSystemData @_AmdAwaitTraversal(i64, %struct.TraversalData) #4
declare %struct.DispatchSystemData @_AmdAwaitShader(i64, %struct.DispatchSystemData) #4
declare %struct.AnyHitTraversalData @_AmdAwaitAnyHit(i64, %struct.AnyHitTraversalData, float, i32) #4
declare %struct.BuiltInTriangleIntersectionAttributes @_cont_GetTriangleHitAttributes(%struct.SystemData*) #4
declare void @_cont_SetTriangleHitAttributes(%struct.SystemData*, %struct.BuiltInTriangleIntersectionAttributes) #4
declare i1 @_cont_IsEndSearch(%struct.TraversalData*) #4
declare i32 @_cont_HitKind(%struct.SystemData* nocapture readnone %data, %struct.HitData*) #2
declare void @_AmdRestoreSystemData(%struct.DispatchSystemData* %data) #1
declare void @_AmdRestoreSystemDataAnyHit(%struct.AnyHitTraversalData* %data) #1

define i32 @_cont_GetLocalRootIndex(%struct.DispatchSystemData* %data) #4 {
; LOWERRAYTRACINGPIPELINE-LABEL: define {{[^@]+}}@_cont_GetLocalRootIndex
; LOWERRAYTRACINGPIPELINE-SAME: (%struct.DispatchSystemData* [[DATA:%.*]]) #[[ATTR3:[0-9]+]] {
; LOWERRAYTRACINGPIPELINE-NEXT:    ret i32 5
;
  ret i32 5
}

define void @_cont_TraceRay(%struct.DispatchSystemData* %data, i64, i32, i32, i32, i32, i32, float, float, float, float, float, float, float, float) #4 {
; Note: The following line was manually fixed to include the "(" to avoid matches on other functions with the same prefix.
; LOWERRAYTRACINGPIPELINE-LABEL: define {{[^@]+}}@_cont_TraceRay(
; LOWERRAYTRACINGPIPELINE-SAME: %struct.DispatchSystemData* [[DATA:%.*]], i64 [[TMP0:%.*]], i32 [[TMP1:%.*]], i32 [[TMP2:%.*]], i32 [[TMP3:%.*]], i32 [[TMP4:%.*]], i32 [[TMP5:%.*]], float [[TMP6:%.*]], float [[TMP7:%.*]], float [[TMP8:%.*]], float [[TMP9:%.*]], float [[TMP10:%.*]], float [[TMP11:%.*]], float [[TMP12:%.*]], float [[TMP13:%.*]]) #[[ATTR3]] {
; LOWERRAYTRACINGPIPELINE-NEXT:    [[DIS_DATA:%.*]] = load [[STRUCT_DISPATCHSYSTEMDATA:%.*]], %struct.DispatchSystemData* [[DATA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[SYS_DATA:%.*]] = insertvalue [[STRUCT_SYSTEMDATA:%.*]] undef, [[STRUCT_DISPATCHSYSTEMDATA]] [[DIS_DATA]], 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[TRAV_DATA:%.*]] = insertvalue [[STRUCT_TRAVERSALDATA:%.*]] undef, [[STRUCT_SYSTEMDATA]] [[SYS_DATA]], 0
; LOWERRAYTRACINGPIPELINE-NEXT:    [[NEWDATA:%.*]] = call [[STRUCT_DISPATCHSYSTEMDATA]] @_AmdAwaitTraversal(i64 4, [[STRUCT_TRAVERSALDATA]] [[TRAV_DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    store [[STRUCT_DISPATCHSYSTEMDATA]] [[NEWDATA]], %struct.DispatchSystemData* [[DATA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[LOCAL_ROOT_INDEX:%.*]] = call i32 @_cont_GetLocalRootIndex(%struct.DispatchSystemData* [[DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @amd.dx.setLocalRootIndex(i32 [[LOCAL_ROOT_INDEX]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @_AmdRestoreSystemData(%struct.DispatchSystemData* [[DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    ret void
;
  %dis_data = load %struct.DispatchSystemData, %struct.DispatchSystemData* %data
  %sys_data = insertvalue %struct.SystemData undef, %struct.DispatchSystemData %dis_data, 0
  %trav_data = insertvalue %struct.TraversalData undef, %struct.SystemData %sys_data, 0
  %newdata = call %struct.DispatchSystemData @_AmdAwaitTraversal(i64 4, %struct.TraversalData %trav_data)
  store %struct.DispatchSystemData %newdata, %struct.DispatchSystemData* %data
  call void @_AmdRestoreSystemData(%struct.DispatchSystemData* %data)
  ret void
}

define void @_cont_CallShader(%struct.DispatchSystemData* %data, i32) #4 {
; Note: The following line was manually fixed to include the "(" to avoid matches on other functions with the same prefix.
; LOWERRAYTRACINGPIPELINE-LABEL: define {{[^@]+}}@_cont_CallShader(
; LOWERRAYTRACINGPIPELINE-SAME: %struct.DispatchSystemData* [[DATA:%.*]], i32 [[TMP0:%.*]]) #[[ATTR3]] {
; LOWERRAYTRACINGPIPELINE-NEXT:    [[DIS_DATA:%.*]] = load [[STRUCT_DISPATCHSYSTEMDATA:%.*]], %struct.DispatchSystemData* [[DATA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[NEWDATA:%.*]] = call [[STRUCT_DISPATCHSYSTEMDATA]] @_AmdAwaitShader(i64 2, [[STRUCT_DISPATCHSYSTEMDATA]] [[DIS_DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    store [[STRUCT_DISPATCHSYSTEMDATA]] [[NEWDATA]], %struct.DispatchSystemData* [[DATA]], align 4
; LOWERRAYTRACINGPIPELINE-NEXT:    [[LOCAL_ROOT_INDEX:%.*]] = call i32 @_cont_GetLocalRootIndex(%struct.DispatchSystemData* [[DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @amd.dx.setLocalRootIndex(i32 [[LOCAL_ROOT_INDEX]])
; LOWERRAYTRACINGPIPELINE-NEXT:    call void @_AmdRestoreSystemData(%struct.DispatchSystemData* [[DATA]])
; LOWERRAYTRACINGPIPELINE-NEXT:    ret void
;
  %dis_data = load %struct.DispatchSystemData, %struct.DispatchSystemData* %data
  %newdata = call %struct.DispatchSystemData @_AmdAwaitShader(i64 2, %struct.DispatchSystemData %dis_data)
  store %struct.DispatchSystemData %newdata, %struct.DispatchSystemData* %data
  call void @_AmdRestoreSystemData(%struct.DispatchSystemData* %data)
  ret void
}

; END manually added manually gpurt content
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

attributes #0 = { nounwind }
attributes #1 = { nounwind readnone }
attributes #2 = { nounwind readonly }
attributes #4 = { alwaysinline }

!llvm.ident = !{!0}
!dx.version = !{!1}
!dx.valver = !{!1}
!dx.shaderModel = !{!2}
!dx.resources = !{!3}
!dx.typeAnnotations = !{!7}
!dx.dxrPayloadAnnotations = !{!12}
!dx.entryPoints = !{!17, !18, !21}

!0 = !{!"dxcoob 2019.05.00"}
!1 = !{i32 1, i32 7}
!2 = !{!"lib", i32 6, i32 7}
!3 = !{!4, null, null, null}
!4 = !{!5}
!5 = !{i32 0, %struct.RaytracingAccelerationStructure* bitcast (%dx.types.Handle* @"\01?myAccelerationStructure@@3URaytracingAccelerationStructure@@A" to %struct.RaytracingAccelerationStructure*), !"myAccelerationStructure", i32 0, i32 3, i32 1, i32 16, i32 0, !6}
!6 = !{i32 0, i32 4}
!7 = !{i32 1, void (%struct.OuterPayload*)* @Miss, !8, void (%struct.OuterPayload*)* @Callable, !8}
!8 = !{!9, !11}
!9 = !{i32 1, !10, !10}
!10 = !{}
!11 = !{i32 2, !10, !10}
!12 = !{i32 0, %struct.OuterPayload undef, !13, %struct.InnerPayload undef, !16}
!13 = !{!14, !15}
!14 = !{i32 0, i32 771}
!15 = !{i32 0, i32 3}
!16 = !{!15}
!17 = !{null, !"", null, !3, null}
!18 = !{void (%struct.OuterPayload*)* @Miss, !"Miss", null, null, !19}
!19 = !{i32 8, i32 11, i32 6, i32 120, i32 5, !20}
!20 = !{i32 0}
!21 = !{void (%struct.OuterPayload*)* @Callable, !"Callable", null, null, !22}
!22 = !{i32 8, i32 12, i32 6, i32 120, i32 5, !20}
!23 = !{!24, !24, i64 0}
!24 = !{!"float", !25, i64 0}
!25 = !{!"omnipotent char", !26, i64 0}
!26 = !{!"Simple C/C++ TBAA"}

